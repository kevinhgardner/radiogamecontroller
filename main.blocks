<xml xmlns="https://developers.google.com/blockly/xml"><block type="pxt-on-start" id="LFxn0:_BnvTx4ImSmc0(" x="0" y="0"><statement name="HANDLER"><block type="typescript_statement" id="o,Q|t(/v;daLTw(Xj{T`" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="namespace RadioGameController {" line1="" line2="    let isController = false;" line3="" line4="    //% block" line5="    export function enable(radioId: number) {" line6="        radio.setGroup(radioId)" line7="    }" line8="" line9="    //% block" line10="    export function onButtonPress(button: Kitronik_Game_Controller.ControllerButtonPins, event: Kitronik_Game_Controller.ControllerButtonEvents, handler: Action) {" line11="        control.onEvent(&lt;number&gt;button, &lt;number&gt;event, handler);" line12="    }" line13="" line14="    function doAction(button: Kitronik_Game_Controller.ControllerButtonPins, event: Kitronik_Game_Controller.ControllerButtonEvents) {" line15="        control.raiseEvent(button, event)" line16="        doSendButtonState(button, event)" line17="        led.plot(0, 0)" line18="        basic.pause(100)" line19="        led.unplot(0, 0)" line20="        basic.pause(100)" line21="    }" line22="" line23="    Kitronik_Game_Controller.onButtonPress(Kitronik_Game_Controller.ControllerButtonPins.Up, Kitronik_Game_Controller.ControllerButtonEvents.Up, function () {" line24="        doAction(Kitronik_Game_Controller.ControllerButtonPins.Up, Kitronik_Game_Controller.ControllerButtonEvents.Up)" line25="    })" line26="    Kitronik_Game_Controller.onButtonPress(Kitronik_Game_Controller.ControllerButtonPins.Up, Kitronik_Game_Controller.ControllerButtonEvents.Down, function () {" line27="        doAction(Kitronik_Game_Controller.ControllerButtonPins.Up, Kitronik_Game_Controller.ControllerButtonEvents.Down)" line28="    })" line29="    Kitronik_Game_Controller.onButtonPress(Kitronik_Game_Controller.ControllerButtonPins.Up, Kitronik_Game_Controller.ControllerButtonEvents.Click, function () {" line30="        doAction(Kitronik_Game_Controller.ControllerButtonPins.Up, Kitronik_Game_Controller.ControllerButtonEvents.Click)" line31="    })" line32="    Kitronik_Game_Controller.onButtonPress(Kitronik_Game_Controller.ControllerButtonPins.Down, Kitronik_Game_Controller.ControllerButtonEvents.Up, function () {" line33="        doAction(Kitronik_Game_Controller.ControllerButtonPins.Down, Kitronik_Game_Controller.ControllerButtonEvents.Up)" line34="    })" line35="    Kitronik_Game_Controller.onButtonPress(Kitronik_Game_Controller.ControllerButtonPins.Down, Kitronik_Game_Controller.ControllerButtonEvents.Down, function () {" line36="        doAction(Kitronik_Game_Controller.ControllerButtonPins.Down, Kitronik_Game_Controller.ControllerButtonEvents.Down)" line37="    })" line38="    Kitronik_Game_Controller.onButtonPress(Kitronik_Game_Controller.ControllerButtonPins.Down, Kitronik_Game_Controller.ControllerButtonEvents.Click, function () {" line39="        doAction(Kitronik_Game_Controller.ControllerButtonPins.Down, Kitronik_Game_Controller.ControllerButtonEvents.Click)" line40="    })" line41="    Kitronik_Game_Controller.onButtonPress(Kitronik_Game_Controller.ControllerButtonPins.Right, Kitronik_Game_Controller.ControllerButtonEvents.Up, function () {" line42="        doAction(Kitronik_Game_Controller.ControllerButtonPins.Right, Kitronik_Game_Controller.ControllerButtonEvents.Up)" line43="    })" line44="    Kitronik_Game_Controller.onButtonPress(Kitronik_Game_Controller.ControllerButtonPins.Right, Kitronik_Game_Controller.ControllerButtonEvents.Down, function () {" line45="        doAction(Kitronik_Game_Controller.ControllerButtonPins.Right, Kitronik_Game_Controller.ControllerButtonEvents.Down)" line46="    })" line47="    Kitronik_Game_Controller.onButtonPress(Kitronik_Game_Controller.ControllerButtonPins.Right, Kitronik_Game_Controller.ControllerButtonEvents.Click, function () {" line48="        doAction(Kitronik_Game_Controller.ControllerButtonPins.Right, Kitronik_Game_Controller.ControllerButtonEvents.Click)" line49="    })" line50="    Kitronik_Game_Controller.onButtonPress(Kitronik_Game_Controller.ControllerButtonPins.Left, Kitronik_Game_Controller.ControllerButtonEvents.Up, function () {" line51="        doAction(Kitronik_Game_Controller.ControllerButtonPins.Left, Kitronik_Game_Controller.ControllerButtonEvents.Up)" line52="    })" line53="    Kitronik_Game_Controller.onButtonPress(Kitronik_Game_Controller.ControllerButtonPins.Left, Kitronik_Game_Controller.ControllerButtonEvents.Down, function () {" line54="        doAction(Kitronik_Game_Controller.ControllerButtonPins.Left, Kitronik_Game_Controller.ControllerButtonEvents.Down)" line55="    })" line56="    Kitronik_Game_Controller.onButtonPress(Kitronik_Game_Controller.ControllerButtonPins.Left, Kitronik_Game_Controller.ControllerButtonEvents.Click, function () {" line57="        doAction(Kitronik_Game_Controller.ControllerButtonPins.Left, Kitronik_Game_Controller.ControllerButtonEvents.Click)" line58="    })" line59="    Kitronik_Game_Controller.onButtonPress(Kitronik_Game_Controller.ControllerButtonPins.Fire1, Kitronik_Game_Controller.ControllerButtonEvents.Up, function () {" line60="        doAction(Kitronik_Game_Controller.ControllerButtonPins.Fire1, Kitronik_Game_Controller.ControllerButtonEvents.Up)" line61="    })" line62="    Kitronik_Game_Controller.onButtonPress(Kitronik_Game_Controller.ControllerButtonPins.Fire1, Kitronik_Game_Controller.ControllerButtonEvents.Down, function () {" line63="        doAction(Kitronik_Game_Controller.ControllerButtonPins.Fire1, Kitronik_Game_Controller.ControllerButtonEvents.Down)" line64="    })" line65="    Kitronik_Game_Controller.onButtonPress(Kitronik_Game_Controller.ControllerButtonPins.Fire1, Kitronik_Game_Controller.ControllerButtonEvents.Click, function () {" line66="        doAction(Kitronik_Game_Controller.ControllerButtonPins.Fire1, Kitronik_Game_Controller.ControllerButtonEvents.Click)" line67="    })" line68="    Kitronik_Game_Controller.onButtonPress(Kitronik_Game_Controller.ControllerButtonPins.Fire2, Kitronik_Game_Controller.ControllerButtonEvents.Up, function () {" line69="        doAction(Kitronik_Game_Controller.ControllerButtonPins.Fire2, Kitronik_Game_Controller.ControllerButtonEvents.Up)" line70="    })" line71="    Kitronik_Game_Controller.onButtonPress(Kitronik_Game_Controller.ControllerButtonPins.Fire2, Kitronik_Game_Controller.ControllerButtonEvents.Down, function () {" line72="        doAction(Kitronik_Game_Controller.ControllerButtonPins.Fire2, Kitronik_Game_Controller.ControllerButtonEvents.Down)" line73="    })" line74="    Kitronik_Game_Controller.onButtonPress(Kitronik_Game_Controller.ControllerButtonPins.Fire2, Kitronik_Game_Controller.ControllerButtonEvents.Click, function () {" line75="        doAction(Kitronik_Game_Controller.ControllerButtonPins.Fire2, Kitronik_Game_Controller.ControllerButtonEvents.Click)" line76="    })" line77="" line78="    function doSendButtonState(button: Kitronik_Game_Controller.ControllerButtonPins, event: Kitronik_Game_Controller.ControllerButtonEvents) {" line79="        // let name=&quot;&quot;" line80="        // let ev=&quot;&quot;" line81="        // if (button == Kitronik_Game_Controller.ControllerButtonPins.Up) {" line82="        //     name = &quot;up&quot;" line83="        // } else if (button == Kitronik_Game_Controller.ControllerButtonPins.Down) {" line84="        //     name = &quot;down&quot;" line85="        // } else if (button == Kitronik_Game_Controller.ControllerButtonPins.Left) {" line86="        //     name = &quot;left&quot;" line87="        // } else if (button == Kitronik_Game_Controller.ControllerButtonPins.Right) {" line88="        //     name = &quot;right&quot;" line89="        // } else if (button == Kitronik_Game_Controller.ControllerButtonPins.Fire1) {" line90="        //     name = &quot;fire1&quot;" line91="        // } else if (button == Kitronik_Game_Controller.ControllerButtonPins.Fire2) {" line92="        //     name = &quot;fire2&quot;" line93="        // }" line94="        // radio.sendValue(name, event)" line95="    }" line96="" line97="    radio.onReceivedValue(function (name, value) {" line98="        // if (name == &quot;up&quot;) {" line99="        //     control.raiseEvent(Kitronik_Game_Controller.ControllerButtonPins.Up, value)" line100="        // } else if (name == &quot;down&quot;) {" line101="        //     control.raiseEvent(Kitronik_Game_Controller.ControllerButtonPins.Down, value)" line102="        // } else if (name == &quot;left&quot;) {" line103="        //     control.raiseEvent(Kitronik_Game_Controller.ControllerButtonPins.Left, value)" line104="        // } else if (name == &quot;right&quot;) {" line105="        //     control.raiseEvent(Kitronik_Game_Controller.ControllerButtonPins.Right, value)" line106="        // } else if (name == &quot;fire1&quot;) {" line107="        //     control.raiseEvent(Kitronik_Game_Controller.ControllerButtonPins.Fire1, value)" line108="        // } else if (name == &quot;fire2&quot;) {" line109="        //     control.raiseEvent(Kitronik_Game_Controller.ControllerButtonPins.Fire2, value)" line110="        // }" line111="    })" line112="" line113="" line114="}" numlines="115"></mutation></block></statement></block><block type="basic_show_icon" id="e{5B:x9eml|Y$n(o;}]%" disabled="true" x="1748" y="374"><field name="i">IconNames.Heart</field></block><block type="control_raise_event" id="kX(DG]M,c8oAg8^rZXq@" disabled="true" x="1907" y="583"><value name="src"><shadow type="control_event_source_id" id="Crn~y1{Wd0!-R4~-9;Uf" disabled="true"><field name="id">EventBusSource.MICROBIT_ID_BUTTON_A</field></shadow></value><value name="value"><shadow type="control_event_value_id" id="Rohvs/Su)_VC*t1Z}|WD" disabled="true"><field name="id">EventBusValue.MICROBIT_EVT_ANY</field></shadow></value></block><block type="control_raise_event" id="Bn%z-[FDrr+w-7JV!5,G" disabled="true" x="1958" y="808"><value name="src"><shadow type="control_event_source_id" id="sTWD,2jj|.O-f}-m-2L." disabled="true"><field name="id">EventBusSource.MICROBIT_ID_BUTTON_A</field></shadow></value><value name="value"><shadow type="control_event_value_id" id="1w3e%(lv.`c!C[EGi39~" disabled="true"><field name="id">EventBusValue.MICROBIT_EVT_ANY</field></shadow></value></block></xml>